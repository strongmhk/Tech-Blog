<blockquote>
<p>노션에 아카이빙된 회고를 옮겨 적은 것이므로, 회고날짜와 작성일의 싱크가 맞지 않을 수 있습니다. </p>
</blockquote>
<h2 id="🧭-에러-메시지를-얼마나-노출할-것인가">🧭 에러 메시지를 얼마나 노출할 것인가</h2>
<p>API를 설계하면서 가장 자주 부딪히는 고민 중 하나는 <strong>에러 응답을 어디까지 상세히 제공해야 하는가</strong>이다.</p>
<p>이번 포스팅에서는 사이드 프로젝트 중 겪은 사례를 바탕으로,</p>
<p><strong>클라이언트 친화적인 설계 vs 보안 및 운영 고려</strong>라는 두 가지 관점의 충돌을 정리해보려고 한다.</p>
<hr />
<h2 id="✅-내가-기존에-써왔던-에러-응답-구조">✅ 내가 기존에 써왔던 에러 응답 구조</h2>
<p>개발자로서 클라이언트 입장을 고려하다 보면, 아래와 같이 <strong>자체 코드와 메시지를 포함한 통일된 응답 포맷</strong>을 사용하는 경우가 많다.</p>
<pre><code class="language-json">{
  &quot;isSuccess&quot;: false,
  &quot;code&quot;: &quot;TICKET_303&quot;,
  &quot;message&quot;: &quot;해당 티켓의 담당자가 아닙니다.&quot;
}
</code></pre>
<p>이 구조의 장점은 다음과 같다:</p>
<ul>
<li>프론트엔드에서 로직 분기 처리 시 명확한 <code>code</code> 기반 처리가 가능</li>
<li>사용자에게 직관적인 피드백 제공</li>
<li>추후 다국어 메시지 처리에도 유연함</li>
</ul>
<hr />
<h2 id="🤔-그런데-정말-이게-정답일까">🤔 그런데, 정말 이게 정답일까?</h2>
<p>이번 프로젝트에서는 나와 다른 의견을 제시한 클라우드 엔지니어 현업자분이 계셨다.</p>
<p>그분은 아래와 같은 이유로 <strong>에러 메시지를 최소한으로 노출해야 한다</strong>고 조언하셨다:</p>
<ol>
<li><strong>서비스 정책 노출 위험</strong><ul>
<li>메시지를 통해 내부 권한 구조나 예외 정책이 드러날 수 있다.</li>
<li>공격자가 이를 통해 시스템 구조를 유추하거나 시도해볼 수 있음.</li>
</ul>
</li>
<li><strong>운영상 혼란 가능성</strong><ul>
<li>여러 API가 동시에 실패하면 다양한 메시지가 노출되면서 프론트엔드나 QA가 혼란을 겪을 수 있다.</li>
</ul>
</li>
</ol>
<hr />
<h2 id="🛠-그래서-어떻게-했나">🛠 그래서 어떻게 했나?</h2>
<p>결국 우리는 <strong>HTTP 상태 코드만 내려주는 구조로 설계를 변경</strong>했다.</p>
<h3 id="변경-전">변경 전</h3>
<pre><code class="language-json">{
  &quot;isSuccess&quot;: false,
  &quot;code&quot;: &quot;TICKET_303&quot;,
  &quot;message&quot;: &quot;해당 티켓의 담당자가 아닙니다.&quot;
}
</code></pre>
<h3 id="변경-후">변경 후</h3>
<pre><code>HTTP/1.1 403 Forbidden
</code></pre><ul>
<li>클라이언트는 공통 처리기에서 상태 코드를 기준으로 적절한 메시지를 일괄적으로 매핑</li>
<li>사용자에게는 “권한이 없습니다” 같은 일반화된 문구만 노출</li>
</ul>
<hr />
<h2 id="🧠-이-경험을-통해-얻은-인사이트">🧠 이 경험을 통해 얻은 인사이트</h2>
<table>
<thead>
<tr>
<th>항목</th>
<th>상세 메시지 응답</th>
<th>상태 코드만 응답</th>
</tr>
</thead>
<tbody><tr>
<td>클라이언트 편의성</td>
<td>높음</td>
<td>낮음</td>
</tr>
<tr>
<td>사용자 경험</td>
<td>친절함</td>
<td>간결함</td>
</tr>
<tr>
<td>보안성</td>
<td>낮음 (정책 노출 우려)</td>
<td>높음</td>
</tr>
<tr>
<td>운영 및 유지보수</td>
<td>메시지 일관성 필요</td>
<td>중앙 관리로 통일 가능</td>
</tr>
</tbody></table>
<blockquote>
<p>&quot;친절한 메시지&quot;가 항상 좋은 UX는 아니다.</p>
<p>보안적인 리스크와 운영 복잡성도 함께 고려되어야 한다.</p>
</blockquote>
<hr />
<h2 id="✍️-정리">✍️ 정리</h2>
<p>이번 경험은 내가 그동안 너무 <strong>클라이언트 편의성에만 집중</strong>해왔다는 점을 돌아보는 계기가 되었다.</p>
<p>이제는 API를 설계할 때, 다음과 같은 질문을 먼저 던져보려 한다:</p>
<ul>
<li>이 메시지가 외부에 노출되어도 괜찮은가?</li>
<li>클라이언트는 이 정보가 반드시 필요한가?</li>
<li>메시지보다 상태 코드 기반 처리로도 충분하지 않은가?</li>
</ul>
<p>서비스의 성숙도가 올라갈수록, <strong>“보안”과 “운영 효율”이 더 중요한 고려사항이 된다</strong>는 것을 실감한 순간이었다.</p>